[
////////////////////////////////////////////////////////////////
//
//  重击 ExtraAttack
//
////////////////////////////////////////////////////////////////
	{
		"Default":
		{
			"$type": "ConfigAbility",
			"abilityName": "Avatar_Eula_ExtraAttack",
			"abilityMixins":
			[
				{
					"$type": "ButtonHoldChargeMixin",
					"skillID": 10511,
					"chargeTime": 0.25,
					"secondChargeTime":"%Max_Dura",
					"OnBeginUncharged":
					[
						{
							"$type": "SetAnimatorTrigger",
							"triggerID": "DoSkill",
						},
						{
							"$type": "SetAnimatorInt",
							"intID": "SkillID",
							"value": 1,
						},
						{
							"$type":"ResetAnimatorTrigger",
							"triggerID": "EndHoldTrigger",
						},
						{
							"$type":"RemoveModifier",
							"modifierName":"SetTrigger",
						},
					],
					"OnReleaseUncharged":
					[
					],
					"OnBeginCharged":
					[
						{
							"$type": "SetAnimatorTrigger",
							"triggerID": "DoSkill",
						},
						{
							"$type": "SetAnimatorInt",
							"intID": "SkillID",
							"value": 6,
						},
					],
					"OnReleaseCharged":
					[
						{
							"$type": "SetAnimatorTrigger",
							"triggerID": "EndHoldTrigger", //制造一个持续0.5秒的modifier，remove的时候都add一下trigger并移除trigger
						},
						{
							"$type":"ApplyModifier",  //因为在第二击进入时可能已经松开按键了，导致EndHoldTrigger被干掉。所以设置了一个modifier保持这个trigger1秒，transation一般都小于一秒，就没问题了。
							"modifierName":"SetTrigger",
						},
					],
					"OnBeginSecondCharged":
					[
						{
							"$type": "SetAnimatorTrigger",
							"triggerID": "EndHoldTrigger",
						},
					],
					"chargeStateIDs": ["Attack01_BS","Attack01","Attack02","Attack03","Attack04","ExtraAttack_BS","ExtraAttack","ExtraAttack1"],
				},
				{
					"$type":"AvatarSteerByCameraMixin",
					"stateIDs": ["ExtraAttack1"],
					"angularSpeed" : 360,
				},
				{
					"$type":"AttachToStateIDMixin",
         			"stateIDs": [ "ExtraAttack", "ExtraAttack1", "ExtraAttack2", "ExtraAttack3" ],
					"modifierName":"Camera"
				},
				{
					"$type":"AttachToStateIDMixin",
					"stateIDs":["ExtraAttack1",],
					"modifierName":"Cost"
				}
			],
			"modifiers":
			{
				"SetTrigger":
				{
					"duration":1,
					"onRemoved":
					[
						{
							"$type":"SetAnimatorTrigger",
							"triggerID":"EndHoldTrigger",
						},
					],
				},
				"Camera":
				{
					"onRemoved":
					[
						{
							"$type":"AvatarExitCameraShot",
							"doOffStage":true,
						},
					],
					"onAvatarOut":
					[
						{
							"$type":"AvatarExitCameraShot",
							"doOffStage":true,
						},
					],
				},
				"Cost":
				{
					"modifierMixins":
					[
						{
							"$type": "CostStaminaMixin",
							"costStaminaDelta": "%ExtraAttack_Claymore_Stamina_Cost",
							"onStaminaEmpty":
							[
								{
									"$type" : "SetAnimatorTrigger",
									"triggerID" : "EndHoldTrigger",
								},
							],
						},
					],
				},
			},
			"abilitySpecials":
			{
				"ExtraAttack_Claymore_Stamina_Cost":0,
				"Max_Dura":5
			},
		},
	},

////////////////////////////////////////////////////////////////
//
//  元素战技
//
////////////////////////////////////////////////////////////////

//根据自身的BUFF层数，消耗BUIFF并触发效果
	{
		"Default":
		{
			"$type": "ConfigAbility",
			"abilityName": "Avatar_Eula_ElementalArt",
            "abilityMixins":
            [
                {
                    "$type": "SkillButtonHoldChargeMixin",
                    "skillID": 10512,
                    "beforeStateIDs" : ["Eula_ElementalArt_BS"],
                    "chargeLoopStateIDs" : ["Eula_ElementalArt_Charge", "Eula_ElementalArt_Burst"],
                    "chargeLoopDurations" : [ 0.05, ],
                    "nextLoopTriggerID" : "NextLoopTrigger",
                    "endHoldTrigger" : "EndHoldTrigger",
                },
            ],
            "onAbilityStart":
            [
//依据BUFF层数触发额外的攻击
                {
                    "$type": "ApplyModifier",
                    "doOffStage": true,
                    "target": "Self",
                    "modifierName": "Eula_ElementalArt_ExtraAttack_1",
                    "predicates":
                    [
                        {
                            "$type": "ByTargetGlobalValue",
                            "key": "_ABILITY_Eula_ElementalArt_Mark_Count",
                            "forceByCaster": true,
                            "value": 1,
                            "compareType": "MoreThanAndEqual",
                        },
                    ],
                },
                {
                    "$type": "ApplyModifier",
                    "doOffStage": true,
                    "target": "Self",
                    "modifierName": "Eula_ElementalArt_ExtraAttack_2",
                    "predicates":
                    [
                        {
                            "$type": "ByTargetGlobalValue",
                            "key": "_ABILITY_Eula_ElementalArt_Mark_Count",
                            "forceByCaster": true,
                            "value": 2,
                            "compareType": "MoreThanAndEqual",
                        },
                    ],
                },
                {
                    "$type": "ApplyModifier",
                    "doOffStage": true,
                    "target": "Self",
                    "modifierName": "Eula_ElementalArt_ExtraAttack_3",
                    "predicates":
                    [
                        {
                            "$type": "ByTargetGlobalValue",
                            "key": "_ABILITY_Eula_ElementalArt_Mark_Count",
                            "forceByCaster": true,
                            "value": 3,
                            "compareType": "MoreThanAndEqual",
                        },
                    ],
                },
                {
                    "$type": "AddElementDurability",
                    "modifierName": "Unique_Eula_ElementalArt_Burst_DefenceDown",
                    "otherTargets":
                    {
                        "$type": "SelectTargetsByShape",
                        "shapeName": "CircleR7",
                        "centerBasedOn": "Self",
                        "campTargetType": "Enemy",
                        "campBasedOn": "Self",
                    },
                    "value": "%BaseDuration",
                    "useLimitRange": true,
                    "maxValue": "%BaseDuration*5",
                    "minValue": 0,
                    "doOffStage":true,
                    "predicates":
                    [
                        {
                            "$type" : "ByEntityTypes",
                            "entityTypes" : ["Monster",],
                        },
                    ],
                },
                {
                    "$type": "ApplyModifier",
                    "modifierName": "Unique_Eula_ElementalArt_Burst_DefenceDown",
                    "otherTargets":
                    {
                        "$type": "SelectTargetsByShape",
                        "shapeName": "CircleR7",
                        "centerBasedOn": "Self",
                        "campTargetType": "Enemy",
                        "campBasedOn": "Self",
                    },
                    "predicates":
                    [
                        {
                            "$type" : "ByEntityTypes",
                            "entityTypes" : ["Monster",],
                        },
                    ],
                },
                {
                    "$type":"SetGlobalValueToOverrideMap",
                    "globalValueKey":"_ABILITY_Eula_ElementalArt_Mark_Count",
                    "overrideMapKey":"Count",
                },
//长按爆发后使自身的计数归零
                {
                    "$type" : "AddGlobalValue",
                    "doOffStage" : true,
                    "key" : "_ABILITY_Eula_ElementalArt_Mark_Count",
                    "value" : -3,
                    "useLimitRange" : true,
                    "maxValue" : "%Eula_ElementalArt_MaxCount",
                    "minValue" : 0,
                },
                {
                    "$type":"RemoveUniqueModifier",
                    "modifierName":"UNIQUE_Eula_ElementalArt_Mark_Count",
                    "target":"Self",
                    "doOffStage":true,
                },
            ],
            "modifiers":
            {
                "Unique_Eula_ElementalArt_Burst_DefenceDown":
                {
                    "duration":"%BaseDuration",
                    "elementDurability":"%BaseDuration",
                    "isLimitedProperties": true,
                    "isUnique" : true,
                    "stacking" : "Unique",
                    "properties" :
                    {
                        "Actor_PhysicalSubHurtDelta" : -0.35,//物抗最多降到-1，超导给了-0.4，这里给-0.35
                        "Actor_IceSubHurtDelta": -0.35,
                    },
                    "state":"DefenseDown",
                },
                "Eula_ElementalArt_ExtraAttack_1":
                {
                    "duration":1,
                    "onAdded":
                    [
                        {
                            "$type": "TriggerAttackEvent",
                            "targetType": "Enemy",
                            "doOffStage":true,
                            "attackEvent":
                            {
                                "attackPattern":
                                {
                                    "$type": "ConfigAttackSphere",
                                    "triggerType": "TriggerNoRepeat",
                                    "radius": 3.5,
                                    "born":
                                    {
                                        "$type": "ConfigBornBySelf",
                                        "offset":
                                        {
                                            "x": 2.0,
                                            "y": 0.0,
                                            "z": 2.0
                                        }
                                    }
                                },
                                "attackInfo":
                                {
                                    "attackTag": "Elemental_Art",
                                    "attackProperty":
                                    {
                                        "damagePercentage": "%ElementalArt_Extra_Damage",
                                        "strikeType": "Blunt",
                                        "attackType": "Melee",
                                        "elementType": "Ice",
                                        "elementDurability": 50,
                                        "elementRank": 1.5,
                                        "enBreak": 140,
                                    },
                                    "hitPattern":
                                    {
                                        "onHitEffectName": "default",
                                        "hitImpulseType":"LV1",
                                        "reboundRatio": 0,
                                        "hitHaltTime": 0.0,
                                        "hitHaltTimeScale": 0.02,
                                        "muteHitText": false,
                                    },
                                    "forceCameraShake": false,
                                    "cameraShake":
                                    {
                                        "shakeType": "Center",
                                        "shakeRange": 0.36,
                                        "shakeTime": 0.12,
                                        "shakeDistance": 30,
                                    },
                                }
                            }
                        },
                        {
                            "$type":"FireEffect",   //爆炸特效
                            "effectPattern":"Eff_Avatar_Lady_Claymore_Eula_ElementalArt_ExtraAttack",
                            "born":
                            {
                                "$type": "ConfigBornBySelf",
                                "offset":
                                {
                                    "x": 2.0,
                                    "y": 0.0,
                                    "z": 2.0
                                }
                            }
                        },
                    ],
                },
                "Eula_ElementalArt_ExtraAttack_2":
                {
                    "duration":0.5,
                    "onRemoved":
                    [
                        {
                            "$type": "TriggerAttackEvent",
                            "targetType": "Enemy",
                            "doOffStage":true,
                            "attackEvent":
                            {
                                "attackPattern":
                                {
                                    "$type": "ConfigAttackSphere",
                                    "triggerType": "TriggerNoRepeat",
                                    "radius": 3.5,
                                    "born":
                                    {
                                        "$type": "ConfigBornBySelf",
                                        "offset":
                                        {
                                            "x": -2.0,
                                            "y": 0.0,
                                            "z": 2.0
                                        }
                                    }
                                },
                                "attackInfo":
                                {
                                    "attackTag": "Elemental_Art",
                                    "attackProperty":
                                    {
                                        "damagePercentage": "%ElementalArt_Extra_Damage",
                                        "strikeType": "Blunt",
                                        "attackType": "Melee",
                                        "elementType": "Ice",
                                        "elementDurability": 50,
                                        "elementRank": 1.5,
                                        "enBreak": 140,
                                    },
                                    "hitPattern":
                                    {
                                        "onHitEffectName": "default",
                                        "hitImpulseType":"LV1",
                                        "reboundRatio": 0,
                                        "hitHaltTime": 0.0,
                                        "hitHaltTimeScale": 0.02,
                                        "muteHitText": false,
                                    },
                                    "forceCameraShake": false,
                                    "cameraShake":
                                    {
                                        "shakeType": "Center",
                                        "shakeRange": 0.36,
                                        "shakeTime": 0.12,
                                        "shakeDistance": 30,
                                    },
                                }
                            }
                        },
                        {
                            "$type":"FireEffect",   //爆炸特效
                            "effectPattern":"Eff_Avatar_Lady_Claymore_Eula_ElementalArt_ExtraAttack",
                            "born":
                            {
                                "$type": "ConfigBornBySelf",
                                "offset":
                                {
                                    "x": -2.0,
                                    "y": 0.0,
                                    "z": 2.0
                                }
                            }
                        },
                    ],
                },
                "Eula_ElementalArt_ExtraAttack_3":
                {
                    "duration":1.0,
                    "onRemoved":
                    [
                        {
                            "$type": "TriggerAttackEvent",
                            "targetType": "Enemy",
                            "doOffStage":true,
                            "attackEvent":
                            {
                                "attackPattern":
                                {
                                    "$type": "ConfigAttackSphere",
                                    "triggerType": "TriggerNoRepeat",
                                    "radius": 3.5,
                                    "born":
                                    {
                                        "$type": "ConfigBornBySelf",
                                        "offset":
                                        {
                                            "x": 0.0,
                                            "y": 0.0,
                                            "z": -2.0
                                        }
                                    }
                                },
                                "attackInfo":
                                {
                                    "attackTag": "Elemental_Art",
                                    "attackProperty":
                                    {
                                        "damagePercentage": "%ElementalArt_Extra_Damage",
                                        "strikeType": "Blunt",
                                        "attackType": "Melee",
                                        "elementType": "Ice",
                                        "elementDurability": 50,
                                        "elementRank": 1.5,
                                        "enBreak": 140,
                                    },
                                    "hitPattern":
                                    {
                                        "onHitEffectName": "default",
                                        "hitImpulseType":"LV1",
                                        "reboundRatio": 0,
                                        "hitHaltTime": 0.0,
                                        "hitHaltTimeScale": 0.02,
                                        "muteHitText": false,
                                    },
                                    "forceCameraShake": false,
                                    "cameraShake":
                                    {
                                        "shakeType": "Center",
                                        "shakeRange": 0.36,
                                        "shakeTime": 0.12,
                                        "shakeDistance": 30,
                                    },
                                }
                            }
                        },
                        {
                            "$type":"FireEffect",   //爆炸特效
                            "effectPattern":"Eff_Avatar_Lady_Claymore_Eula_ElementalArt_ExtraAttack",
                            "born":
                            {
                                "$type": "ConfigBornBySelf",
                                "offset":
                                {
                                    "x": 0.0,
                                    "y": 0.0,
                                    "z": -2.0
                                }
                            }
                        },
                    ],
                },
            },
			"abilitySpecials":
			{
                "ElementalArt_Extra_Damage":1,
                "BaseDuration":7,
                "Eula_ElementalArt_MaxCount":2,
			},
		},
	},


    {
        "Default":
        {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Eula_ElementalArt_Click",
            "abilityMixins":
            [
            ],
            "onAbilityStart":
            [
                {
                    "$type" : "AvatarSkillStart",
                    "skillID" : 10512,
                    "cdRatio" : 1.0,
                },
                {
                    "$type": "TriggerAttackEvent",
                    "targetType": "Enemy",
                    "attackEvent":
                    {
                        "attackPattern":
                        {
                            "$type": "ConfigAttackSphere",
                            "triggerType": "TriggerNoRepeat",
                            "radius": 3.5,
                            "born":
                            {
                                "$type": "ConfigBornBySelf",
                                "offset":
                                {
                                    "x": 0.0,
                                    "y": 0.0,
                                    "z": 0.0
                                }
                            }
                        },
                        "attackInfo":
                        {
                            "attackTag": "Elemental_Art",
                            "attackProperty":
                            {
                                "damagePercentage": "%ElementalArt_Click_Damage",
                                "strikeType": "Slash",
                                "attackType": "Melee",
                                "elementType": "Ice",
                                "elementDurability": 50,
                                "elementRank": 1.5,
                                "enBreak": 140,
                            },
                            "hitPattern":
                            {
                                "onHitEffectName": "default",
                                "hitImpulseType":"LV3",
                                "reboundRatio": 0,
                                "hitHaltTime": 0.0,
                                "hitHaltTimeScale": 0.02,
                                "muteHitText": false,
                            },
                            "forceCameraShake": false,
                            "cameraShake":
                            {
                                "shakeType": "Center",
                                "shakeRange": 0.36,
                                "shakeTime": 0.12,
                                "shakeDistance": 30,
                            },
                        }
                    }
                },
            ],
            "abilitySpecials":
            {
                "ElementalArt_Click_Damage":1,
            },
        },
    },
//长按攻击，并且希望这次攻击是向上击飞怪物
    {
        "Default":
        {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Eula_ElementalArt_Burst",
            "onAbilityStart":
            [
                {
                    "$type" : "AvatarSkillStart",
                    "skillID" : 10512,
                    "cdRatio" : 2.5,
                },
                {
                    "$type": "TriggerAttackEvent",
                    "targetType": "Enemy",
                    "attackEvent":
                    {
                        "attackPattern":
                        {
                            "$type": "ConfigAttackSphere",
                            "triggerType": "TriggerNoRepeat",
                            "radius": 3.5,
                            "born":
                            {
                                "$type": "ConfigBornBySelf",
                                "offset":
                                {
                                    "x": 0.0,
                                    "y": 0.0,
                                    "z": 0.0
                                }
                            }
                        },
                        "attackInfo":
                        {
                            "attackTag": "Elemental_Art",
                            "attackProperty":
                            {
                                "damagePercentage": "%ElementalArt_Burst_Damage",
                                "strikeType": "Blunt",
                                "attackType": "Melee",
                                "elementType": "Ice",
                                "elementDurability": 50,
                                "elementRank": 1.5,
                                "enBreak": 140,
                            },
                            "hitPattern":
                            {
                                "onHitEffectName": "default",
                                "hitImpulseType":"LV3",
                                "overrideHitImpulse":
                                {
                                    "hitLevel": "Air",
                                    "hitImpulseX": 200,
                                    "hitImpulseY": 800,
                                },
                                "reboundRatio": 0,
                                "hitHaltTime": 0.0,
                                "hitHaltTimeScale": 0.02,
                                "muteHitText": false,
                            },
                            "forceCameraShake": false,
                            "cameraShake":
                            {
                                "shakeType": "Center",
                                "shakeRange": 0.36,
                                "shakeTime": 0.12,
                                "shakeDistance": 30,
                            },
                        }
                    },
                },
                // {
                //     "$type": "CreateGadget",
                //     "gadgetID": 41002006,
                //     "target": "Self",
                //     "campID": 1001,
                //     "campTargetType": "Enemy",
                //     "born":
                //     {
                //         "$type": "ConfigBornBySelf",
                //         "offset" :
                //         {
                //             "x": 0.0,
                //             "y": 0.0,
                //             "z": 3.7,
                //         },
                //     },
                // },
            ],
            "modifiers":
            {

            },
            "abilitySpecials":
            {
                "ElementalArt_Burst_Damage":2,
                "Eula_ElementalArt_MaxCount":2,
                "BaseDuration":4,
                "Count":1,
            },
        },
    },


//攻击的时候，判定给自己加个标记。
    {
        "Default":
        {
            "$type" : "ConfigAbility",
            "abilityName" : "Avatar_Eula_ElementalArt_SetMark",
            "onAdded" :
            [
                {
                    "$type" : "AddGlobalValue",
                    "key" : "_ABILITY_Eula_ElementalArt_Mark_Count",
                    "value" : 0,
                    "useLimitRange" : true,
                    "maxValue" : 0,
                    "minValue" : 0,
                },
                {
                    "$type": "ApplyModifier",
                    "modifierName": "Eula_ElementalArt_SetMark",
                },
            ],
            "abilityMixins" :
            [
                {
                    "$type": "AttachModifierToSelfGlobalValueMixin",
                    "globalValueKey": "_ABILITY_Eula_ElementalArt_Mark_Count",
                    "valueSteps" : [-1, 0.5, 1.5, 2.5, 3.5, 4.5],
                    "removeAppliedModifier": true,
                    "modifierNameSteps" : ["Blank", "Eula_ElementalArt_Mark_1", "Eula_ElementalArt_Mark_2", "Eula_ElementalArt_Mark_3", "Eula_ElementalArt_Mark_4"],
                },
            ],
            //森罗万象
            "modifiers" :
            {
                "Eula_ElementalArt_SetMark" :
                {
                    "onAttackLanded" :
                    [
                        {
                            "$type" : "Predicated",
                            "target" : "Target",
                            "targetPredicates":
                            [
                                {
                                    "$type" : "ByAttackTags",
                                    "attackTags" : ["Elemental_Art",],
                                },
                                {
                                    "$type" : "ByEntityTypes",
                                    "entityTypes" : ["Monster",],
                                },
                                {
                                    "$type":"ByHitStrikeType",//区分此次攻击是否是单点
                                    "strikeType":"Slash",
                                },
                            ],
                            "successActions":
                            [
                                {
                                    "$type" : "ApplyModifier",
                                    "modifierName" : "Eula_ElementalArt_Mark_Add",
                                    "target" : "Caster",
                                },
                            ],
                        },
                    ],
                },
                "Eula_ElementalArt_Mark_Add":
                {
                    "duration" : 1.0,
                    "stacking" : "Unique",
                    "onAdded" :
                    [
                        {
                            "$type" : "ApplyModifier",
                            "modifierName" : "UNIQUE_Eula_ElementalArt_Mark_Count",
                        },
                    ],
                },
                "UNIQUE_Eula_ElementalArt_Mark_Count":
                {
                    "duration" : 18.0,
                    "isUnique" : true,
                    "stacking" : "MultipleAllRefresh",
                    "stackingOption" :
                    {
                        "maxModifierNumForMultipleType" : 3,
                    },
                    "onAdded" :
                    [
                        {
                            "$type" : "AddGlobalValue",
                            "doOffStage" : true,
                            "key" : "_ABILITY_Eula_ElementalArt_Mark_Count",
                            "value" : 1,
                            "useLimitRange" : true,
                            "maxValue" : "%Eula_ElementalArt_MaxCount",
                            "minValue" : 0,
                        },
                    ],
                    "onRemoved" :
                    [
                        {
                            "$type" : "AddGlobalValue",
                            "doOffStage" : true,
                            "key" : "_ABILITY_Eula_ElementalArt_Mark_Count",
                            "value" : -1,
                            "useLimitRange" : true,
                            "maxValue" : "%Eula_ElementalArt_MaxCount",
                            "minValue" : 0,
                        },
                    ],
                },
                "Blank":
                {
//这个人很懒，什么都没有留下
                },
                "Eula_ElementalArt_Mark_1":
                {
                    "state":"AttackUp",
                    "isLimitedProperties":true,
                    "properties":
                    {
                        "Actor_DefenceRatio" :"%Eula_ElementalArt_Mark_DefencekUp_1",
                    },
                    "onAdded":
                    [
                        {
                            "$type" : "AttachEffect",
                            "effectPattern" : "Eff_Avatar_Lady_Claymore_Eula_ElementalArt_Mark_1",
                        },
                    ],
                },
                "Eula_ElementalArt_Mark_2":
                {
                    "state":"AttackUp",
                    "isLimitedProperties":true,
                    "properties":
                    {
                        "Actor_DefenceRatio" :"%Eula_ElementalArt_Mark_DefencekUp_2",
                    },
                    "onAdded":
                    [
                        {
                            "$type" : "AttachEffect",
                            "effectPattern" : "Eff_Avatar_Lady_Claymore_Eula_ElementalArt_Mark_1",
                        },
                        {
                            "$type" : "AttachEffect",
                            "effectPattern" : "Eff_Avatar_Lady_Claymore_Eula_ElementalArt_Mark_2",
                        },
                    ],
                },
                "Eula_ElementalArt_Mark_3":
                {
                    "state":"AttackUp",
                    "isLimitedProperties":true,
                    "properties":
                    {
                        "Actor_DefenceRatio" :"%Eula_ElementalArt_Mark_DefencekUp_3",
                    },
                    "onAdded":
                    [
                        {
                            "$type" : "AttachEffect",
                            "effectPattern" : "Eff_Avatar_Lady_Claymore_Eula_ElementalArt_Mark_1",
                        },
                        {
                            "$type" : "AttachEffect",
                            "effectPattern" : "Eff_Avatar_Lady_Claymore_Eula_ElementalArt_Mark_2",
                        },
                        {
                            "$type" : "AttachEffect",
                            "effectPattern" : "Eff_Avatar_Lady_Claymore_Eula_ElementalArt_Mark_3",
                        },
                    ],
                },
                "Eula_ElementalArt_Mark_4":
                {
                    "state":"AttackUp",
                    "isLimitedProperties":true,
                    "properties":
                    {
                        "Actor_DefenceRatio" :"%Eula_ElementalArt_Mark_DefencekUp_4",
                    },
                    "onAdded":
                    [
                        {
                            "$type" : "AttachEffect",
                            "effectPattern" : "Eff_Avatar_Lady_Claymore_Eula_ElementalArt_Mark_1",
                        },
                        {
                            "$type" : "AttachEffect",
                            "effectPattern" : "Eff_Avatar_Lady_Claymore_Eula_ElementalArt_Mark_2",
                        },
                        {
                            "$type" : "AttachEffect",
                            "effectPattern" : "Eff_Avatar_Lady_Claymore_Eula_ElementalArt_Mark_3",
                        },
                        {
                            "$type" : "AttachEffect",
                            "effectPattern" : "Eff_Avatar_Lady_Claymore_Eula_ElementalArt_Mark_4",
                        },
                    ],
                },
            },
            "abilitySpecials":
            {
                "Eula_ElementalArt_MaxCount" : 2,
                "Eula_ElementalArt_Mark_DefencekUp_1":0.6,
                "Eula_ElementalArt_Mark_DefencekUp_2":0.12,
                "Eula_ElementalArt_Mark_DefencekUp_3":0.18,
                "Eula_ElementalArt_Mark_DefencekUp_4":0.24,//用不到吧，怎么想都用不到吧，
            },
        },
    },

    {
        "Default":
        {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Eula_ElementalArt_IceWave", 
            "onAdded":
            [
                {
                    "$type":"ApplyModifier",
                    "modifierName":"ElementalArt_IceWave_Attack_Handler",
                    "target":"Self",
                }
            ],
            "modifiers":
            {
                "ElementalArt_IceWave_Attack_Handler":
                {
                    "thinkInterval":1,
                    "onThinkInterval":
                    [
                        {
                            "$type": "TriggerAttackEvent",
                            "targetType": "Enemy",
                            "attackEvent":
                            {
                                "attackPattern":
                                {
                                    "$type": "ConfigAttackSphere",
                                    "triggerType": "TriggerNoRepeat",
                                    "radius": 3.5,
                                    "born":
                                    {
                                        "$type": "ConfigBornBySelf",
                                        "offset":
                                        {
                                            "x": 0.0,
                                            "y": 0.0,
                                            "z": 0.0
                                        }
                                    }
                                },
                                "attackInfo":
                                {
                                    "attackTag": "Elemental_Art",
                                    "attackProperty":
                                    {
                                        "damagePercentage": "%ElementalArt_IceWave_Damage",
                                        "strikeType": "Default",
                                        "attackType": "Melee",
                                        "elementType": "Ice",
                                        "elementDurability": 50,
                                        "elementRank": 1.5,
                                        "enBreak": 140,
                                    },
                                    "hitPattern":
                                    {
                                        "onHitEffectName": "default",
                                        "hitImpulseType":"LV6",
                                        "overrideHitImpulse":
                                        {
                                            "hitLevel": "Air",  //hitlevel = special
                                            "hitImpulseX": 0,   //hitlevel = special
                                            "hitImpulseY": 800,    //hitlevel = special
                                        },
                                        "reboundRatio": 0,
                                        "hitHaltTime": 0.0,
                                        "hitHaltTimeScale": 0.02,
                                        "muteHitText": false,
                                    },
                                    "forceCameraShake": false,
                                    "cameraShake":
                                    {
                                        "shakeType": "Center",
                                        "shakeRange": 0.36,
                                        "shakeTime": 0.12,
                                        "shakeDistance": 30,
                                    },
                                }
                            }
                        },
                        {
                            "$type": "FireEffect",
                            "effectPattern": "Eff_Avatar_Lady_Claymore_Eula_ElementalArt_IceWaveAttack",
                        },
                    ],
                },
            },
            "abilitySpecials":
            {
                "ElementalArt_IceWave_Damage":1.2,
            },
        },
    },

////////////////////////////////////////////////////////////////
//
//  元素爆发
//
////////////////////////////////////////////////////////////////
	{
		"Default":
		{
			"$type": "ConfigAbility",
			"abilityName": "Avatar_Eula_ElementalBurst",
            "abilityMixins":
            [
                {
                    "$type":"AttachToStateIDMixin",
                    "stateIDs":["Eula_ElementalBurst","Eula_ElementalBurst_AS"],
                    "modifierName":"Camera",
                },
                {
                    "$type":"AttachToStateIDMixin",
                    "stateIDs":["Eula_ElementalBurst",],
                    "modifierName":"Elemental_Burst_Invincible",
                },
            ],
            "onAdded":
            [
                {
                    "$type":"ApplyModifier",
                    "modifierName":"Eula_ElementalBurst_Judgment_Handler",
                },
            ],
//角色死亡或换人时立即出发充能技效果
            "onKill":
            [
                {
                    "$type":"RemoveUniqueModifier",
                    "modifierName":"UNIQUE_Timer",
                    "doOffStage":true,
                    "otherTargets":
                    {
                        "$type": "SelectTargetsByChildren",
                        "configID": 41051002,
                        "sortType": "Default",
                    },
                },
            ],
            "onAvatarOut":
            [
                {
                    "$type":"RemoveUniqueModifier",
                    "modifierName":"UNIQUE_Timer",
                    "doOffStage":true,
                    "otherTargets":
                    {
                        "$type": "SelectTargetsByChildren",
                        "configID": 41051002,
                        "sortType": "Default",
                    },
                },
            ],
            "onAbilityStart":
            [
                {
                    "$type": "CreateGadget",
                    "gadgetID": 41051002,
                    "campID": 1001,
                    "campTargetType": "Enemy",
                    "born":
                    {
                        "$type": "ConfigBornByTarget",
                        "offset":
                        {
                            "x": 0.0,
                            "y": 0.0,
                            "z": 0.0,
                        }
                    }
                },
                // {
                //     "$type":"AvatarEnterCameraShot",
                //     "cameraMoveCfgPath":"Camera_Eula_ElementalBurst",
                //     "predicates":
                //     [
                //         {
                //             "$type":"ByAttackNotHitScene",
                //             "attackPattern":
                //             {
                //                 "$type": "ConfigAttackCircle",
                //                 "triggerType": "TriggerNoRepeat",
                //                 "height":0.2,
                //                 "fanAngle": 360.0,
                //                 "radius": 1.4,
                //                 "born":
                //                 {
                //                     "$type": "ConfigBornBySelf",
                //                     "offset":
                //                     {
                //                         "x" : 0.0,
                //                         "y" : 1.0,
                //                         "z" : 0.0,
                //                     },
                //                 },
                //             },
                //         },
                //         {
                //             "$type":"ByAttackNotHitScene",
                //             "attackPattern":
                //             {
                //                 "$type": "ConfigAttackBox",
                //                 "triggerType": "TriggerNoRepeat",
                //                 "size":
                //                 {
                //                     "x": 2.0,
                //                     "y": 2.0,
                //                     "z": 8.0,
                //                 },
                //                 "born":
                //                 {
                //                     "$type": "ConfigBornBySelf",
                //                     "offset":
                //                     {
                //                         "x" : 0.0,
                //                         "y" : 1.0,
                //                         "z" : -4.0,
                //                     },
                //                 },
                //             },
                //         },
                //         {
                //             "$type": "ByAvatarInWaterDepth",
                //             "compareType": "LessAndEqual",
                //             "depth": 0.5,
                //         },
                //     ],
                // },
            ],
            "modifiers":
            {
                "Eula_ElementalBurst_Judgment_Handler":
                {
                    "onAttackLanded":
                    [
                        {
                            "$type":"ApplyModifier",
                            "modifierName":"Eula_ElementalBurst_AddGlobalValueToGadget",
                            "otherTargets":
                            {
                                "$type": "SelectTargetsByChildren",
                                "configID": 41051002,
                                "sortType": "Default",
                            },
                            "predicates":
                            [
                                {
                                    "$type": "ByHitDamage", //有伤害才触发
                                    "damage": 0,
                                    "logic": "Greater"
                                },
                                {
                                    "$type":"ByAny",
                                    "predicates":
                                    [
                                        {
                                            "$type": "ByHitElement", //非元素伤害能触发，这代表着武器技能也能触发
                                            "element": "None",
                                        },
                                        {
                                            "$type": "ByHitElement", //冰元素伤害也能触发
                                            "element": "Ice",
                                        },
                                    ],
                                }
                            ],
                        },
                    ],
                },
                "Eula_ElementalBurst_AddGlobalValueToGadget":
                {
                    "duration":0.1,
                    "onAdded":
                    [
                        {
                            "$type":"AddGlobalValue",
                            "value":1,
                            "key":"_ABILITY_DAMOCLESSWORD_DAMAGE_RATIO",
                            "useLimitRange":true,
                            "maxValue":"%DamoclesSword_Max_Damage_Ratio",
                            "minValue":0,
                        },
                        {
                            "$type":"FireEffect",
                            "effectPattern":"Eff_Avatar_Lady_Claymore_Eula_EelementalBurst_DamoclesSword_Blink",
                        },
                    ],
                },
                "Camera":
                {
                    "onAdded":
                    [
                        {
                            "$type" : "ControlEmotion",
                            "toggleBlink" : false,
                            "toggleEyeKey": false,
                            "toggleEmoSync": false,
                        },
                        {
                            "$type": "EnableHeadControl",
                            "enable": false,
                            "blend" : false,
                        },
                    ],
                    "onRemoved":
                    [
                        {
                            "$type":"AvatarExitCameraShot",
                            "doOffStage":true,
                        },
                        {
                            "$type" : "ControlEmotion",
                            "doOffStage": true,
                            "toggleBlink" : true,
                            "toggleEyeKey": true,
                            "toggleEmoSync": true,
                        },
                        {
                            "$type": "AvatarCameraParam",
                            "cameraParam":
                            {
                                "forceRadius": 6.0,
                                "forceRadiusDuration": 0,
                                "shouldKeepForceRadius": true,
                            },
                        },
                        {
                            "$type": "EnableHeadControl",
                            "enable": true,
                            "doOffStage": true,
                        },
                    ],
                },
                "Elemental_Burst_Invincible":
                {
                    "onAdded":
                    [
                        {
                            "$type": "AttachAbilityStateResistance",
                            "resistanceListID": 11002,
                        },
                    ],
                    "state": "Invincible",
                },
            },
			"abilitySpecials":
			{
                "DamoclesSword_Max_Damage_Ratio":10,
			},
		},
	},

    {
        "Default":
        {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Eula_ElementalBurst_Attack",
            "onAbilityStart":
            [
                {
                    "$type" : "AvatarSkillStart",
                    "skillID" : 10515,
                    "cdRatio" : 1,
                },
                {
                    "$type": "TriggerAttackEvent",
                    "targetType": "Enemy",
                    "attackEvent":
                    {
                        "attackPattern":
                        {
                            "$type": "ConfigAttackSphere",
                            "triggerType": "TriggerNoRepeat",
                            "radius": 3.5,
                            "born":
                            {
                                "$type": "ConfigBornBySelf",
                                "offset":
                                {
                                    "x": 0.0,
                                    "y": 0.0,
                                    "z": 0.0
                                }
                            }
                        },
                        "attackInfo":
                        {
                            "attackTag": "Elemental_Burst",
                            "attackProperty":
                            {
                                "damagePercentage": "%Elemental_Burst_Damage",
                                "strikeType": "Default",
                                "attackType": "Melee",
                                "elementType": "Ice",
                                "elementDurability": 50,
                                "elementRank": 1.5,
                                "enBreak": 140,
                            },
                            "hitPattern":
                            {
                                "onHitEffectName": "default",
                                "hitImpulseType":"LV6",
                                "overrideHitImpulse":
                                {
                                    "hitLevel": "Air",  //hitlevel = special
                                    "hitImpulseX": 0,   //hitlevel = special
                                    "hitImpulseY": 800,    //hitlevel = special
                                },
                                "reboundRatio": 0,
                                "hitHaltTime": 0.0,
                                "hitHaltTimeScale": 0.02,
                                "muteHitText": false,
                            },
                            "forceCameraShake": false,
                            "cameraShake":
                            {
                                "shakeType": "Center",
                                "shakeRange": 0.36,
                                "shakeTime": 0.12,
                                "shakeDistance": 30,
                            },
                        }
                    }
                },
                {
                    "$type": "FireEffect",
                    "effectPattern": "Eff_Avatar_Lady_Claymore_Eula_EelementalBurst_Impact",
                },
//释放元素爆发后，立即是自己获得3层效果
                // {
                //     "$type" : "AddGlobalValue",
                //     "doOffStage" : true,
                //     "key" : "_ABILITY_Eula_ElementalArt_Mark_Count",
                //     "value" : 3,
                //     "useLimitRange" : true,
                //     "maxValue" : "%Eula_ElementalArt_MaxCount",
                //     "minValue" : 0,
                // },
//释放元素爆发后，立即清除元素战技的CD
                // {
                //     "$type" : "ModifyAvatarSkillCD",
                //     "skillID" : 10512,
                //     "target" : "Self",
                //     "cdRatio" : -1,
                // },
            ],
            "abilitySpecials":
            {
                "Elemental_Burst_Damage":2,
                "Eula_ElementalArt_MaxCount":2,
            },
        },
    },

    {
        "Default":
        {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Eula_ElementalBurst_Judgment",
            "onAdded":
            [
                {
                    "$type":"ApplyModifier",
                    "modifierName":"UNIQUE_Timer",
                },
                {
                    "$type":"AddGlobalValue",//系数得有一个保底
                    "value":1,
                    "key":"_ABILITY_DAMOCLESSWORD_DAMAGE_RATIO",
                    "useLimitRange":true,
                    "maxValue":1,
                    "minValue":0,
                },
            ],
            "abilityMixins":
            [
                {
                    "$type": "AttachModifierToSelfGlobalValueMixin", //根据伤害的层数决定特效的表现
                    "globalValueKey": "_ABILITY_DAMOCLESSWORD_DAMAGE_RATIO",
                    "valueSteps" : [-1, 1.5, 3.5, 7.5, 10.5],
                    "removeAppliedModifier":false,
                    "modifierNameSteps" : ["Blank", "Blank", "Blank", "Blank"],
                    "actionQueues":
                    [
                        [
                            //do nothing
                        ],
                        [
                            {
                                "$type": "SendEffectTrigger",
                                "parameter" : "Level_2",
                                "effectPattern":"Eff_Avatar_Lady_Claymore_Eula_EelementalBurst_DamoclesSword",
                            },
                        ],
                        [
                            {
                                "$type": "SendEffectTrigger",
                                "parameter" : "Level_3",
                                "effectPattern":"Eff_Avatar_Lady_Claymore_Eula_EelementalBurst_DamoclesSword",
                            },
                        ],
                        [
                            {
                                "$type": "SendEffectTrigger",
                                "parameter" : "Level_4",
                                "effectPattern":"Eff_Avatar_Lady_Claymore_Eula_EelementalBurst_DamoclesSword",
                            },
                        ],
                    ],
                },
            ],
            "onAbilityStart":
            [
            ],
            "modifiers":
            {
                "Blank"://无实际用处，防止mixin报错
                {

                },
                "UNIQUE_Timer":
                {
                    "duration":10,
                    "isUnique":true,
                    "onAdded":
                    [
                        {
                            "$type":"AttachEffect",
                            "effectPattern":"Eff_Avatar_Lady_Claymore_Eula_EelementalBurst_DamoclesSword",
                        },
                        {
                            "$type":"AttachModifier",
                            "target":"Owner",
                            "modifierName":"Eula_ElementalBurst_DamoclesSword_ModifyCD",
                        },
                    ],
                    "onRemoved":
                    [
                        {
                            "$type":"SetGlobalValueToOverrideMap",
                            "globalValueKey":"_ABILITY_DAMOCLESSWORD_DAMAGE_RATIO",
                            "overrideMapKey":"Elemental_Burst_Judgment_Ratio",
                        },
                        {
                            "$type": "TriggerAttackEvent",
                            "targetType": "Enemy",
                            "attackEvent":
                            {
                                "attackPattern":
                                {
                                    "$type": "ConfigAttackSphere",
                                    "triggerType": "TriggerNoRepeat",
                                    "radius": 6.5,
                                    "born":
                                    {
                                        "$type": "ConfigBornBySelf",
                                        "offset":
                                        {
                                            "x": 0.0,
                                            "y": 0.0,
                                            "z": 0.0
                                        }
                                    }
                                },
                                "attackInfo":
                                {
                                    "attackTag": "Elemental_Burst",
                                    "attackProperty":
                                    {
                                        "damagePercentage": "%Elemental_Burst_Judgment_BaseDamage*%Elemental_Burst_Judgment_Ratio",
                                        "strikeType": "Blunt",
                                        "attackType": "Melee",
                                        "elementDurability": 50,
                                        "elementRank": 1.5,
                                        "enBreak": 180,
                                    },
                                    "hitPattern":
                                    {
                                        "onHitEffectName": "default",
                                        "hitImpulseType":"LV6",
                                        "overrideHitImpulse":
                                        {
                                            "hitLevel": "Air",  //hitlevel = special
                                            "hitImpulseX": 0,   //hitlevel = special
                                            "hitImpulseY": 800,    //hitlevel = special
                                        },
                                        "reboundRatio": 0,
                                        "hitHaltTime": 0.0,
                                        "hitHaltTimeScale": 0.02,
                                        "muteHitText": false,
                                    },
                                    "forceCameraShake": false,
                                    "cameraShake":
                                    {
                                        "shakeType": "Center",
                                        "shakeRange": 0.36,
                                        "shakeTime": 0.12,
                                        "shakeDistance": 30,
                                    },
                                }
                            }
                        },
                        {
                            "$type": "FireEffect",
                            "effectPattern": "Eff_Avatar_Lady_Claymore_Eula_EelementalBurst_JudgmentExplode",
                        },
                        {
                            "$type":"KillSelf",
                        },
                    ],
                },
                "Eula_ElementalBurst_DamoclesSword_ModifyCD":
                {
                    "duration":15,
                    "onAttackLanded":
                    [
                        {
                            "$type" : "ModifyAvatarSkillCD",
                            "skillID" : 10512,
                            "target" : "Self",
                            "cdRatio" : -1,
                            "predicates" :
                            [
                                {
                                    "$type":"ByHitCritical",
                                },
                                {
                                    "$type":"ByAttackTags",
                                    "attackTags":["NormalAttack_01","NormalAttack_02","NormalAttack_03","NormalAttack_04","NormalAttack_05",],
                                },
                            ],
                        },
                    ],
                },
            },
            "abilitySpecials":
            {
                "Elemental_Burst_Judgment_BaseDamage":1,
                "Elemental_Burst_Judgment_Ratio":0,
            },
        },
    },
////////////////////////////////////////////////////////////////
//
//  空中攻击
//
////////////////////////////////////////////////////////////////
    {
        "Default":
        {
            "$type": "ConfigAbility",
            "abilityName": "Avatar_Eula_FallingAnthem",
            "abilityMixins":
            [
                {
                    "$type": "AvatarChangeSkillMixin",
                    "priority":"AvatarCommon",
                    "jumpSkillID": 5024010,
                    "flySkillID": 5024010,
                },
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs":
                    [
                        "FallingAnthem_BS"
                    ],
                    "modifierName": "FallingAnthem_BS_Material",
                },
				{
					"$type": "AttachToStateIDMixin",
					"stateIDs": ["FallingAnthem_Loop"],
					"modifierName": "FallingAnthem_Loop_Normal",
				},
                {
					"$type": "AttachToAnimatorStateIDMixin",
					"stateIDs":
					[
						"FallingAnthem_BS_2",
                        "FallingAnthem_Loop",
                        "FallingAnthem_Loop_Low",
					],
                    "modifierName": "FallingAnthem_LoopDamage",
                },
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs":
                    [
                        "FallingAnthem_BS"
                    ],
                    "modifierName": "FallingAnthem_BS_VelocityForce_Initialize",
                },
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs":
                    [
                        "FallingAnthem_BS",
                        "FallingAnthem_Loop",
                        "FallingAnthem_AS_1",
                        "FallingAnthem_AS_2"
                    ],
                    "modifierName": "FallingAnthem_Height_Detect",
				},
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs":
                    [
                        "FallingAnthem_BS",
                        "FallingAnthem_Loop",
                        "FallingAnthem_AS_1",
                        "FallingAnthem_AS_2"
                    ],
                    "modifierName": "FallingAnthem_FallingDamageImmune_01",
                },
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs":
                    [
                        "FallingAnthem_BS",
                        "FallingAnthem_Loop"
                    ],
                    "modifierName": "Inertia",
                },
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs":
                    [
                        "FallingAnthem_BS",
                        "FallingAnthem_Loop",
                        "FallingAnthem_AS_1",
                        "FallingAnthem_AS_2"
                    ],
                    "modifierName": "FallingAnthem_OverHead_Camera",
                },
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs":
                    [
                        "FallingAnthem_BS"
                    ],
                    "modifierName": "FallingAnthem_ClearVelocityForce",
                },
                {
                    "$type": "AttachToStateIDMixin",
                    "stateIDs":
                    [
                        "FallingAnthem_BS",
                        "FallingAnthem_Loop",
                    ],
                    "modifierName": "FallingAnthem_AttachSelfEffect",
                },
            ],
            "onAdded":
            [
            ],
            "onAbilityStart":
            [
                //普通状态第一段
                {
                    "$type": "TriggerAttackEvent",
                    "targetType": "Enemy",
                    "attackEvent":
                    {
                        "attackPattern":
                        {
                            "$type": "ConfigAttackCircle",
                            "triggerType": "TriggerNoRepeat",
                            "scale": 1.0,
                            "height": 2.0,
                            "centerYOffset": 0.0,
                            "offsetZ": 0.0,
                            "fanAngle": 360.0,
                            "radius": 3.0,
                            "followRootNodeY": false,
                            "followTransformY": false,
                            "offsetAngle": 0.0,
                            "born":
                            {
                                "$type": "ConfigBornByTarget",
                                "offset":
                                {
                                    "x": 0.0,
                                    "y": -0.5,
                                    "z": 1.0,
                                },
                            },
                        },
                        "attackInfo":
                        {
                            "attackTag": "FallingAttack",
                            "attackProperty":
                            {
                                "damagePercentage": "%FallingAnthem_Normal_Rank_1_Damage",
                                "strikeType": "Blunt",
                                "overrideByWeapon": true,
                                "attackType": "Melee",
                                "elementType": "None",
                                "elementDurability": 25,
                                "enBreak": 150,
                            },
                            "hitPattern":
                            {
                                "onHitEffectName": "none",
								"hitImpulseType":"LV4",
                                // "hitLevel": "Heavy", //hitlevel = 4
                                // "hitImpulseX": 800, //hitlevel = 4
                                // "hitImpulseY": 0, //hitlevel = 4
                                "retreatType": "ByAttacker",
                                "reboundRatio": 0,
                                "canBeDefenceHalt": false,
                                "hitHaltTime": 0,
                                "hitHaltTimeScale": 0.1,
                                "muteHitText": false
                            },
                            "forceCameraShake": true,
                            /*				        	"cameraShake":
				        	{
				        		"shakeType": "CustomVector",
								"shakeRange": 0.3,
								"shakeTime": 0.12,
								"shakeDistance": 30,
								"shakeDir":
								{
									"x": 0,
									"y": 1,
									"z": 0,
								},
				        	},*/
                            "cameraShake":
                            {
                                "shakeType": "CustomVector",
                                "shakeRange": 0.24,
                                "shakeTime": 0.12,
                                "shakeDistance": 30,
                                "shakeDir":
                                {
                                    "x": 0,
                                    "y": 1,
                                    "z": 0,
                                },
                                "extension":
                                {
                                    "baseCycle": 0.24,
                                    "cycleDamping": 0,
                                    "rangeAttenuation": 0.3,
                                },
                            },
                        },
                    },
                    "predicates":
                    [
                        {
                            "$type": "ByTargetGlobalValue",
                            "key": "_ABILITY_FallingAnthem_UseCamera",
                            "forceByCaster": true,
                            "value": 0,
                            "compareType": "NoneOrEqual",
                        },
                    ],
                },
                //普通状态第二段
                {
                    "$type": "TriggerAttackEvent",
                    "targetType": "Enemy",
                    "attackEvent":
                    {
                        "attackPattern":
                        {
                            "$type": "ConfigAttackCircle",
                            "triggerType": "TriggerNoRepeat",
                            "scale": 1.0,
                            "height": 2.0,
                            "centerYOffset": 0.0,
                            "offsetZ": 0.0,
                            "fanAngle": 360.0,
                            "radius": 5.0,
                            "followRootNodeY": false,
                            "followTransformY": false,
                            "offsetAngle": 0.0,
                            "born":
                            {
                                "$type": "ConfigBornByTarget",
                                "offset":
                                {
                                    "x": 0.0,
                                    "y": -0.5,
                                    "z": 1.0,
                                },
                            },
                        },
                        "attackInfo":
                        {
                            "attackTag": "FallingAttack",
                            "attackProperty":
                            {
                                "damagePercentage": "%FallingAnthem_Normal_Rank_2_Damage",
                                "strikeType": "Blunt",
                                "overrideByWeapon": true,
                                "attackType": "Melee",
                                "elementType": "None",
                                "elementDurability": 25,
                                "enBreak": 200,
                            },
                            "hitPattern":
                            {
                                "onHitEffectName": "none",
								"hitImpulseType":"LV7",
                                // "hitLevel": "Air", //hitlevel = 7
                                // "hitImpulseX": 0, //hitlevel = 7
                                // "hitImpulseY": 800, //hitlevel = 7
                                "retreatType": "ByAttacker",
                                "reboundRatio": 0,
                                "canBeDefenceHalt": false,
                                "hitHaltTime": 0,
                                "hitHaltTimeScale": 0.1,
                                "muteHitText": false
                            },
                            "forceCameraShake": true,
                            "cameraShake":
                            {
                                "shakeType": "CustomVector",
                                "shakeRange": 0.5,
                                "shakeTime": 0.2,
                                "shakeDistance": 30,
                                "shakeDir":
                                {
                                    "x": 0,
                                    "y": 1,
                                    "z": 1,
                                },
                                "extension":
                                {
                                    "baseCycle": 0.4,
                                    "cycleDamping": 0,
                                    "rangeAttenuation": 0.3,
                                },
                            },
                        },
                    },
                    "predicates":
                    [
                        {
                            "$type": "ByTargetGlobalValue",
                            "key": "_ABILITY_FallingAnthem_UseCamera",
                            "forceByCaster": true,
                            "value": 1,
                            "compareType": "Equal",
                        },
                    ],
                },
                //普通状态第一段
                {
                    "$type": "FireEffect",
                    "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Strike_01",
                    "predicates":
                    [
                        {
                            "$type": "ByTargetGlobalValue",
                            "key": "_ABILITY_FallingAnthem_UseCamera",
                            "forceByCaster": true,
                            "value": 0,
                            "compareType": "NoneOrEqual",
                        },
                    ],
                },
                //普通状态第二段
                {
                    "$type": "FireEffect",
                    "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Strike_02",
                    "predicates":
                    [
                        {
                            "$type": "ByTargetGlobalValue",
                            "key": "_ABILITY_FallingAnthem_UseCamera",
                            "forceByCaster": true,
                            "value": 1,
                            "compareType": "Equal",
                        },
                    ],
                },
            ],
            "modifiers":
            {
                "FallingAnthem_AttachSelfEffect":
                {
                    "onAdded":
                    [
						{
							"$type":"AttachEffect",
							"effectPattern":"Eff_Avatar_Claymore_FallAnthem_Self_02",
						},
                    ],
                },
                "FallingAnthem_BS_Material":
                {
                    "onAdded":
                    [
						{
							"$type":"FireEffect",
							"effectPattern":"Eff_Avatar_Claymore_FallAnthem_Self",
						},
                        {
                            "$type": "FireEffect",
                            "effectPattern": "Eff_Avatar_Claymore_FallAnthem_BS",
                        },
                    ],
                },
                "FallingAnthem_BS_VelocityForce_Initialize":
                {
                    "properties":
                    {
                        "Actor_AddGravityScale": -2,
                    },
                    "onAdded":
                    [
                        {
                            "$type": "RemoveVelocityForce",
                            "forces":
                            [
                                "RushMoveType"
                            ],
                        },
                    ],
                },
                "FallingAnthem_LoopDamage":
                {
                    "thinkInterval": 0.3,
                    "onThinkInterval":
                    [
                        {
                            "$type": "TriggerAttackEvent",
                            "targetType": "Enemy",
                            "attackEvent":
                            {
                                "attackPattern":
                                {
                                    "$type": "ConfigAttackSphere",
                                    "triggerType": "TriggerNoRepeat",
                                    "radius": 1.0,
                                    "born":
                                    {
                                        "$type": "ConfigBornBySelf",
                                        "offset":
                                        {
                                            "x": 0.0,
                                            "y": 0.0,
                                            "z": 1
                                        }
                                    }
                                },
                                "attackInfo":
                                {
                                    "attackTag": "FallingAttack",
                                    "attackProperty":
                                    {
                                        "damagePercentage": "%FallingAnthem_Normal_Loop_Damage",
                                        "strikeType": "Slash",
                                        "overrideByWeapon": true,
                                        "attackType": "Melee",
                                    	"elementType": "None",
                                		"elementDurability": 0,
                                        "enBreak": 35,
                                    },
                                    "hitPattern":
                                    {
                                        "onHitEffectName": "default",
										"hitImpulseType":"LV2",
                                        // "hitLevel": "Light", //hitlevel = 2
                                        // "hitImpulseX": 200, //hitlevel = 2
                                        // "hitImpulseY": 0, //hitlevel = 2
                                        "reboundRatio": 0,
                                        "canBeDefenceHalt": false,
                                        "hitHaltTime": 0,
                                        "hitHaltTimeScale": 0.02,
                                        "muteHitText": false
                                    },
                                },
                            },
                        },
                    ],
                },
				"FallingAnthem_FallingDamageImmune_01":
                {
                	"onAdded":[
    		        	{
				          "$type": "ClearGlobalValue",
				          "key": "_ABILITY_FallingAttack_Altitude",
				        },
						{
							"$type": "AddGlobalValue",
							"key": "_ABILITY_FallingAttack_Altitude",
							"value": "%FallingAnthem_FallingDamageRatio_Lv0",
							"useLimitRange": true,
							"maxValue": "%FallingAnthem_FallingDamageRatio_Lv0",
							"minValue": "%FallingAnthem_FallingDamageRatio_Lv0",
                            "predicates":
                            [
                                {
                                    "$type": "ByTargetAltitude",
                                    "value": "%FallingAnthem_Altitude_Lv0",
                                    "logic": "LesserOrEqual",
                                },
                            ],
						},//==================================================================================
						{
							"$type": "AddGlobalValue",
							"key": "_ABILITY_FallingAttack_Altitude",
							"value": "%FallingAnthem_FallingDamageRatio_Lv1",
							"useLimitRange": true,
							"maxValue": "%FallingAnthem_FallingDamageRatio_Lv1",
							"minValue": "%FallingAnthem_FallingDamageRatio_Lv1",
                            "predicates":
                            [
                                {
                                    "$type": "ByTargetAltitude",
                                    "value": "%FallingAnthem_Altitude_Lv1",
                                    "logic": "LesserOrEqual",
                                },
                                {
                                    "$type": "ByTargetAltitude",
                                    "value": "%FallingAnthem_Altitude_Lv0",
                                    "logic": "Greater",
                                },
                            ],
						},//==================================================================================
						{
							"$type": "AddGlobalValue",
							"key": "_ABILITY_FallingAttack_Altitude",
							"value": "%FallingAnthem_FallingDamageRatio_Lv2",
							"useLimitRange": true,
							"maxValue": "%FallingAnthem_FallingDamageRatio_Lv2",
							"minValue": "%FallingAnthem_FallingDamageRatio_Lv2",
                            "predicates":
                            [
                                {
                                    "$type": "ByTargetAltitude",
                                    "value": "%FallingAnthem_Altitude_Lv2",
                                    "logic": "LesserOrEqual",
                                },
                                {
                                    "$type": "ByTargetAltitude",
                                    "value": "%FallingAnthem_Altitude_Lv1",
                                    "logic": "Greater",
                                },
                            ],
						},//==================================================================================
						{
							"$type": "AddGlobalValue",
							"key": "_ABILITY_FallingAttack_Altitude",
							"value": "%FallingAnthem_FallingDamageRatio_Lv3",
							"useLimitRange": true,
							"maxValue": "%FallingAnthem_FallingDamageRatio_Lv3",
							"minValue": "%FallingAnthem_FallingDamageRatio_Lv3",
                            "predicates":
                            [
                                {
                                    "$type": "ByTargetAltitude",
                                    "value": "%FallingAnthem_Altitude_Lv3",
                                    "logic": "LesserOrEqual",
                                },
                                {
                                    "$type": "ByTargetAltitude",
                                    "value": "%FallingAnthem_Altitude_Lv2",
                                    "logic": "Greater",
                                },
                            ],
						},//==================================================================================
						{
							"$type": "AddGlobalValue",
							"key": "_ABILITY_FallingAttack_Altitude",
							"value": "%FallingAnthem_FallingDamageRatio_Lv4",
							"useLimitRange": true,
							"maxValue": "%FallingAnthem_FallingDamageRatio_Lv4",
							"minValue": "%FallingAnthem_FallingDamageRatio_Lv4",
                            "predicates":
                            [
                                {
                                    "$type": "ByTargetAltitude",
                                    "value": "%FallingAnthem_Altitude_Lv3",
                                    "logic": "Greater",
                                },
                            ],
						},//==================================================================================

						{
							"$type": "AttachModifier",
							"modifierName": "FallingAnthem_FallingDamageImmune_02",
						},
                	],
                },
                "FallingAnthem_FallingDamageImmune_02":
                {
                	"onAdded":[
						{
							"$type": "SetGlobalValueToOverrideMap",
							"globalValueKey": "_ABILITY_FallingAttack_Altitude",
							"overrideMapKey": "FallingAnthem_FallingDamageRatio",
						},
						{
							"$type": "AttachModifier",
							"modifierName": "FallingAnthem_FallingDamageImmune_03",
						},
                	],
                },
                "FallingAnthem_FallingDamageImmune_03":
                {

                    "properties":
                    {
                        "Actor_FallingDamageRatio": "%FallingAnthem_FallingDamageRatio",
                    },
                },
                "FallingAnthem_Loop_Normal":
                {
                    "modifierMixins":
                    [
                        {
                            "$type": "AttachModifierToSelfGlobalValueMixin",
                            "globalValueKey": "_ABILITY_FallingAnthem_UseCamera",
                            "valueSteps":
                            [
                                -1,
                                0.5,
                                1.5
                            ],
                            "removeAppliedModifier": true,
                            "modifierNameSteps":
                            [
                                "FallingAnthem_Loop_Normal_Rank_1",
                                "FallingAnthem_Loop_Normal_Rank_2"
                            ],
                        },
                    ],
                },
                "FallingAnthem_Loop_Normal_Rank_1":
                {
                    "onAdded":
                    [
                        {
                            "$type": "FireEffect",
                            "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Loop_01",
                        },
                    ],
                },
                "FallingAnthem_Loop_Normal_Rank_2":
                {
                    "onAdded":
                    [
                        {
                            "$type": "AttachEffect",
                            "effectPattern": "Eff_Avatar_Claymore_FallAnthem_Loop_02",
                        },
                    ],
                },
                //水平惯性继承
                "Inertia":
                {
                    "modifierMixins":
                    [
                        {
                            "$type": "ApplyInertiaVelocityMixin",
                            "damping": 0,
                            "useXZ": false,
                            "useY": false,
                        },
                    ],
                },
                "FallingAnthem_Height_Detect":
                {
                    "onAdded":
                    [
                        {
                            "$type": "AddGlobalValue",
                            "key": "_ABILITY_FallingAnthem_UseCamera",
                            "value": 0,
                            "useLimitRange": true,
                            "maxValue": 0,
                            "minValue": 0,
                            "predicates":
                            [
                                {
                                    "$type": "ByTargetAltitude",
                                    "value": 2.4,
                                    "logic": "LesserOrEqual",
                                },
                            ],
                        },
                        {
                            "$type": "AddGlobalValue",
                            "key": "_ABILITY_FallingAnthem_UseCamera",
                            "value": 5,
                            "useLimitRange": true,
                            "maxValue": 1,
                            "minValue": 0,
                            "predicates":
                            [
                                {
                                    "$type": "ByTargetAltitude",
                                    "value": 2.4,
                                    "logic": "Greater",
                                },
                            ],
                        },
                        /*						{
							"$type": "DebugLog",
							"content": "FallingAnthem Height Set True!",
							"predicates":
							[
								{
									"$type": "ByTargetAltitude",
									"value": 3.0,
									"logic": "Greater",
								},
							],
						},*/
                        {
                            "$type": "SetAnimatorFloat",
                            "floatID": "FallingAnthem_UseCamera",
                            "value": 0,
                            "predicates":
                            [
                                {
                                    "$type": "ByTargetAltitude",
                                    "value": 2.4,
                                    "logic": "LesserOrEqual",
                                },
                            ],
                        },
                        {
                            "$type": "SetAnimatorFloat",
                            "floatID": "FallingAnthem_UseCamera",
                            "value": 1,
                            "predicates":
                            [
                                {
                                    "$type": "ByTargetAltitude",
                                    "value": 2.4,
                                    "logic": "Greater",
                                },
                            ],
                        },
                    ],
                    "onRemoved":
                    [
                        {
                            "$type": "SetAnimatorFloat",
                            "floatID": "FallingAnthem_UseCamera",
                            "value": 0,
                        },
                        {
                            "$type": "AddGlobalValue",
                            "key": "_ABILITY_FallingAnthem_UseCamera",
                            "value": 0,
                            "useLimitRange": true,
                            "maxValue": 0,
                            "minValue": 0,
                        },
                        /*						{
							"$type": "DebugLog",
							"content": "FallingAnthem Height Reset!",
						},*/
                    ],
                },
                "FallingAnthem_OverHead_Camera":
                {
                    "onAdded":
                    [
                        {
                            "$type": "AvatarCameraParam",
                            "lockParam": false,
                            "cameraParam":
                            {
                                "forceRadius": 4.5,
                                "forceRadiusDuration": 0.2,
                                "shouldKeepForceRadius": true,
                            },
                            "predicates":
                            [
                                {
                                    "$type": "ByAnimatorFloat",
                                    "parameter": "FallingAnthem_UseCamera",
                                    "value": 1,
                                    "logic": "Equal",
                                },
                            ],
                        },
                    ],
                },
                "FallingAnthem_OverHead_Camera_Remover":
                {
                    "onAdded":
                    [
                        {
                            "doOffStage": true,
                            "$type": "AvatarExitCameraShot",
                        },
                    ],
                },
                "FallingAnthem_Landed_Camera":
                {
                    "onAdded":
                    [
                        {
                            "$type": "AvatarCameraParam",
                            "lockParam": false,
                            "cameraParam":
                            {
                                "forceRadius": 6.0,
                                "forceRadiusDuration": 0.1,
                                "shouldKeepForceRadius": true,
                            },
                            "predicates":
                            [
                                {
                                    "$type": "ByAnimatorFloat",
                                    "parameter": "FallingAnthem_UseCamera",
                                    "value": 1,
                                    "logic": "Equal",
                                },
                            ],
                        },
                    ],
                },
                "FallingAnthem_ClearVelocityForce":
                {
                    "onAdded":
                    [
                        {
                            "$type": "RemoveVelocityForce",
                            "forces":
                            [
                                "RushMoveType",
                                "InertiaType"
                            ],
                        },
                    ],
                    /*					"onRemoved":
					[
						{
							"$type": "RemoveVelocityForce",
							"forces": ["RushMoveType"],
						},
					],*/
                },
            },
			"abilitySpecials":
			{
				"FallingAnthem_Normal_Loop_Damage": 0,
				"FallingAnthem_Normal_Rank_1_Damage": 0,
				"FallingAnthem_Normal_Rank_2_Damage": 0,

				"FallingAnthem_Altitude_Lv0": 20,
				"FallingAnthem_Altitude_Lv1": 40,
				"FallingAnthem_Altitude_Lv2": 60,
				"FallingAnthem_Altitude_Lv3": 100,
				"FallingAnthem_Altitude_Lv4": 200,

				"FallingAnthem_FallingDamageRatio_Lv0": -1,
				"FallingAnthem_FallingDamageRatio_Lv1": -1,
				"FallingAnthem_FallingDamageRatio_Lv2": -0.9,
				"FallingAnthem_FallingDamageRatio_Lv3": -0.8,
				"FallingAnthem_FallingDamageRatio_Lv4": -0.6,

				"FallingAnthem_FallingDamageRatio": 0,
			},
        },
    },
]